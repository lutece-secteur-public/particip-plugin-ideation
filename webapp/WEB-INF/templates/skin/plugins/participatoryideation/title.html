<form class="form" onsubmit="return validateForm(this);" action="jsp/site/Portal.jsp" method="post">
	<input type="hidden" name="page" value="ideation">
	<input type="hidden" name="action" value="title">

	<div class="form-group">
		<p>#i18n{participatoryideation.submit_project.steps.title.title_label}</p>
		<input type="text" class="form-control" name="titre" value="${form_etape_title.titre!''}" id="titre" maxlength="#dskey{participatoryideation.site_property.form.titre.maxLength}">
	</div>
	
	<#if campaign_static['type_field_map']?? && campaign_static['type_field_map']['field1'][0]?? && campaign_static['type_field_map']['field1'][0] == '1'>
		<div class="form-group">
			<p><strong>${campaign_static['type_field_map']['field1'][1]!'Field 1'}</strong> (${i18n("participatoryideation.submit_project.steps.title.text1_validation", 0, 200)})</p>
			<p>${campaign_static['type_field_map']['field1'][2]!''}</p>
			<input type="text" class="form-control" name="field1" value="${form_etape_title.field1!''}" id="field1">
		</div>
	</#if>

	<#if campaign_static['type_field_map']?? && campaign_static['type_field_map']['field2'][0]?? && campaign_static['type_field_map']['field2'][0] == '1'>
		<div class="form-group">
			<p><strong>${campaign_static['type_field_map']['field2'][1]!'Field 1'}</strong> (${i18n("participatoryideation.submit_project.steps.title.text2_validation", 0, 200)})</p>
			<p>${campaign_static['type_field_map']['field2'][2]!''}</p>
			<input type="text" class="form-control" name="field2" value="${form_etape_title.field2!''}" id="field1">
		</div>
	</#if>
	
	<div class="form-button text-center">
		<button type="submit" value="Continuer" class="btn btn-14rem btn-black-on-white">
			#i18n{participatoryideation.submit_project.steps.title.submit} <i class="fa fa-angle-down"></i>
		</button>
	</div>
</form>

<script>
function lutece_update_count_titre() {
	var cnt = $.trim($("#titre").val()).length;
	var text = cnt + " character";
	if (cnt >= 2) { text += "s"; }
	text = "(" + text + ")";
	$("#cnt1").html( text );
};
$(function(){
	$("#titre").after('<p id="cnt1" class="cnt"></p>');
	lutece_update_count_titre();
	$("#titre").on("input keyup paste cut", lutece_update_count_titre);
});
	
function lutece_update_count_field1() {
	var cnt = $.trim($("#field1").val()).length;
	var text = cnt + " character";
	if (cnt >= 2) { text += "s"; }
		text = "(" + text + ")";
		$("#cnt2").html( text );
};
$(function(){
	$("#field1").after('<p id="cnt2" class="cnt"></p>');
	lutece_update_count_field1();
	$("#field1").on("input keyup paste cut", lutece_update_count_field1);
});
	
function lutece_update_count_field2() {
	var cnt = $.trim($("#field2").val()).length;
	var text = cnt + " character";
	if (cnt >= 2) { text += "s"; }
		text = "(" + text + ")";
		$("#cnt3").html( text );
};
$(function(){
	$("#field2").after('<p id="cnt3" class="cnt"></p>');
	lutece_update_count_field2();
	$("#field2").on("input keyup paste cut", lutece_update_count_field2);
});
</script>
